<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Tag helpers in forms in ASP.NET Core </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Tag helpers in forms in ASP.NET Core ">
    <meta name="generator" content="docfx 2.24.0.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="/foo">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="mvc/views/working-with-forms">
<h1 id="introduction-to-using-tag-helpers-in-forms-in-aspnet-core">Introduction to using tag helpers in forms in ASP.NET Core</h1>

<p>By <a href="https://twitter.com/RickAndMSFT">Rick Anderson</a>, <a href="https://twitter.com/Dave_Paquette">Dave Paquette</a>, and <a href="https://github.com/jerriep">Jerrie Pelser</a></p>
<p>This document demonstrates working with Forms and the HTML elements commonly used on a Form. The HTML <a href="https://www.w3.org/TR/html401/interact/forms.html">Form</a> element provides the primary mechanism web apps use to post back data to the server. Most of this document describes <a href="tag-helpers/intro.html">Tag Helpers</a> and how they can help you productively create robust HTML forms. We recommend you read <a href="tag-helpers/intro.html">Introduction to Tag Helpers</a> before you read this document.</p>
<p>In many cases, HTML Helpers provide an alternative approach to a specific Tag Helper, but it&#39;s important to recognize that Tag Helpers do not replace HTML Helpers and there is not a Tag Helper for each HTML Helper. When an HTML Helper alternative exists, it is mentioned.</p>
<p><a name="my-asp-route-param-ref-label"></a></p>
<h2 id="the-form-tag-helper">The Form Tag Helper</h2>
<p>The <a href="https://www.w3.org/TR/html401/interact/forms.html">Form</a> Tag Helper:</p>
<ul>
<li><p>Generates the HTML <a href="https://www.w3.org/TR/html401/interact/forms.html">&lt;FORM&gt;</a> <code>action</code> attribute value for a MVC controller action or named route</p>
</li>
<li><p>Generates a hidden <a href="https://docs.microsoft.com/aspnet/mvc/overview/security/xsrfcsrf-prevention-in-aspnet-mvc-and-web-pages">Request Verification Token</a> to prevent cross-site request forgery (when used with the <code>[ValidateAntiForgeryToken]</code> attribute in the HTTP Post action method)</p>
</li>
<li><p>Provides the <code>asp-route-&lt;Parameter Name&gt;</code> attribute, where <code>&lt;Parameter Name&gt;</code> is added to the route values. The  <code>routeValues</code> parameters to <code>Html.BeginForm</code> and <code>Html.BeginRouteForm</code> provide similar functionality.</p>
</li>
<li><p>Has an HTML Helper alternative <code>Html.BeginForm</code> and <code>Html.BeginRouteForm</code></p>
</li>
</ul>
<p>Sample:</p>
<pre><code class="lang-HTML" name="Main">&lt;form asp-controller=&quot;Demo&quot; asp-action=&quot;Register&quot; method=&quot;post&quot;&gt;
    &lt;!-- Input and Submit elements --&gt;
&lt;/form&gt;
</code></pre><p>The Form Tag Helper above generates the following HTML:</p>
<pre><code class="lang-HTML">&lt;form method=&quot;post&quot; action=&quot;/Demo/Register&quot;&gt;
     &lt;!-- Input and Submit elements --&gt;
     &lt;input name=&quot;__RequestVerificationToken&quot; type=&quot;hidden&quot; value=&quot;&lt;removed for brevity&gt;&quot; /&gt;
    &lt;/form&gt;
</code></pre><p>The MVC runtime generates the <code>action</code> attribute value from the Form Tag Helper attributes <code>asp-controller</code> and <code>asp-action</code>. The Form Tag Helper also generates a hidden <a href="https://docs.microsoft.com/aspnet/mvc/overview/security/xsrfcsrf-prevention-in-aspnet-mvc-and-web-pages">Request Verification Token</a> to prevent cross-site request forgery (when used with the <code>[ValidateAntiForgeryToken]</code> attribute in the HTTP Post action method). Protecting a pure HTML Form from cross-site request forgery is difficult, the Form Tag Helper provides this service for you.</p>
<h3 id="using-a-named-route">Using a named route</h3>
<p>The <code>asp-route</code> Tag Helper attribute can also generate markup for the HTML <code>action</code> attribute. An app with a <a href="../../fundamentals/routing.html">route</a>  named <code>register</code> could use the following markup for the registration page:</p>
<pre><code class="lang-HTML" name="Main">&lt;form asp-route=&quot;register&quot; method=&quot;post&quot;&gt;
    &lt;!-- Input and Submit elements --&gt;
&lt;/form&gt;
</code></pre><p>Many of the views in the <em>Views/Account</em> folder (generated when you create a new web app with <em>Individual User Accounts</em>) contain the <a href="https://docs.microsoft.com/aspnet/core/mvc/views/working-with-forms">asp-route-returnurl</a> attribute:</p>
<!-- literal_block {"ids": [], "linenos": false, "xml:space": "preserve", "language": "none", "highlight_args": {"hl_lines": [2]}} -->
<pre><code class="lang-none">&lt;form asp-controller=&quot;Account&quot; asp-action=&quot;Login&quot;
     asp-route-returnurl=&quot;@ViewData[&quot;ReturnUrl&quot;]&quot;
     method=&quot;post&quot; class=&quot;form-horizontal&quot; role=&quot;form&quot;&gt;
</code></pre><div class="NOTE"><h5>Note</h5><p>With the built in templates, <code>returnUrl</code> is only populated automatically when you try to access an authorized resource but are not authenticated or authorized. When you attempt an unauthorized access, the security middleware redirects you to the login page with the <code>returnUrl</code> set.</p>
</div>
<h2 id="the-input-tag-helper">The Input Tag Helper</h2>
<p>The Input Tag Helper binds an HTML <a href="https://www.w3.org/wiki/HTML/Elements/input">&lt;input&gt;</a> element to a model expression in your razor view.</p>
<p>Syntax:</p>
<pre><code class="lang-HTML">&lt;input asp-for=&quot;&lt;Expression Name&gt;&quot; /&gt;
</code></pre><p>The Input Tag Helper:</p>
<ul>
<li><p>Generates the <code>id</code> and <code>name</code> HTML attributes for the expression name specified in the <code>asp-for</code> attribute. <code>asp-for=&quot;Property1.Property2&quot;</code> is equivalent to <code>m =&gt; m.Property1.Property2</code>. The name of the expression is what is used for the <code>asp-for</code> attribute value. See the <a href="#expression-names">Expression names</a> section for additional information.</p>
</li>
<li><p>Sets the HTML <code>type</code> attribute value based on the model type and  <a href="https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.dataannotations.iattributeadapter">data annotation</a> attributes applied to the model property</p>
</li>
<li><p>Will not overwrite the HTML <code>type</code> attribute value when one is specified</p>
</li>
<li><p>Generates <a href="https://developer.mozilla.org/docs/Web/Guide/HTML/HTML5">HTML5</a>  validation attributes from <a href="https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.dataannotations.iattributeadapter">data annotation</a> attributes applied to model properties</p>
</li>
<li><p>Has an HTML Helper feature overlap with <code>Html.TextBoxFor</code> and <code>Html.EditorFor</code>. See the <strong>HTML Helper alternatives to Input Tag Helper</strong> section for details.</p>
</li>
<li><p>Provides strong typing. If the name of the property changes and you don&#39;t update the Tag Helper you&#39;ll get an error similar to the following:</p>
</li>
</ul>
<pre><code class="lang-HTML">An error occurred during the compilation of a resource required to process
this request. Please review the following specific error details and modify
your source code appropriately.

Type expected
 &#39;RegisterViewModel&#39; does not contain a definition for &#39;Email&#39; and no
 extension method &#39;Email&#39; accepting a first argument of type &#39;RegisterViewModel&#39;
 could be found (are you missing a using directive or an assembly reference?)
</code></pre><p>The <code>Input</code> Tag Helper sets the HTML <code>type</code> attribute based on the .NET type. The following table lists some common .NET types and generated HTML type (not every .NET type is listed).</p>
<table>
<thead>
<tr>
<th>.NET type</th>
<th>Input Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bool</td>
<td>type=”checkbox”</td>
</tr>
<tr>
<td>String</td>
<td>type=”text”</td>
</tr>
<tr>
<td>DateTime</td>
<td>type=”datetime”</td>
</tr>
<tr>
<td>Byte</td>
<td>type=”number”</td>
</tr>
<tr>
<td>Int</td>
<td>type=”number”</td>
</tr>
<tr>
<td>Single, Double</td>
<td>type=”number”</td>
</tr>
</tbody>
</table>
<p>The following table shows some common <a href="https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.dataannotations.iattributeadapter">data annotations</a> attributes that the input tag helper will map to specific input types (not every validation attribute is listed):</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Input Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>[EmailAddress]</td>
<td>type=”email”</td>
</tr>
<tr>
<td>[Url]</td>
<td>type=”url”</td>
</tr>
<tr>
<td>[HiddenInput]</td>
<td>type=”hidden”</td>
</tr>
<tr>
<td>[Phone]</td>
<td>type=”tel”</td>
</tr>
<tr>
<td>[DataType(DataType.Password)]</td>
<td>type=”password”</td>
</tr>
<tr>
<td>[DataType(DataType.Date)]</td>
<td>type=”date”</td>
</tr>
<tr>
<td>[DataType(DataType.Time)]</td>
<td>type=”time”</td>
</tr>
</tbody>
</table>
<p>Sample:</p>
<pre><code class="lang-csharp" name="Main">using System.ComponentModel.DataAnnotations;

namespace FormsTagHelper.ViewModels
{
    public class RegisterViewModel
    {
        [Required]
        [EmailAddress]
        [Display(Name = &quot;Email Address&quot;)]
        public string Email { get; set; }

        [Required]
        [DataType(DataType.Password)]
        public string Password { get; set; }
    }
}
</code></pre><pre><code class="lang-HTML" name="Main">@model RegisterViewModel

&lt;form asp-controller=&quot;Demo&quot; asp-action=&quot;RegisterInput&quot; method=&quot;post&quot;&gt;
    Email:  &lt;input asp-for=&quot;Email&quot; /&gt; &lt;br /&gt;
    Password: &lt;input asp-for=&quot;Password&quot; /&gt;&lt;br /&gt;
    &lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
&lt;/form&gt;
</code></pre><p>The code above generates the following HTML:</p>
<pre><code class="lang-HTML">  &lt;form method=&quot;post&quot; action=&quot;/Demo/RegisterInput&quot;&gt;
       Email:
       &lt;input type=&quot;email&quot; data-val=&quot;true&quot;
              data-val-email=&quot;The Email Address field is not a valid e-mail address.&quot;
              data-val-required=&quot;The Email Address field is required.&quot;
              id=&quot;Email&quot; name=&quot;Email&quot; value=&quot;&quot; /&gt; &lt;br&gt;
       Password:
       &lt;input type=&quot;password&quot; data-val=&quot;true&quot;
              data-val-required=&quot;The Password field is required.&quot;
              id=&quot;Password&quot; name=&quot;Password&quot; /&gt;&lt;br&gt;
       &lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
     &lt;input name=&quot;__RequestVerificationToken&quot; type=&quot;hidden&quot; value=&quot;&lt;removed for brevity&gt;&quot; /&gt;
   &lt;/form&gt;
</code></pre><p>The data annotations applied to the <code>Email</code> and <code>Password</code> properties generate metadata on the model. The Input Tag Helper consumes the model metadata and produces <a href="https://developer.mozilla.org/docs/Web/Guide/HTML/HTML5">HTML5</a> <code>data-val-*</code> attributes (see <a href="../models/validation.html">Model Validation</a>). These attributes describe the validators to attach to the input fields. This provides unobtrusive HTML5 and <a href="https://jquery.com/">jQuery</a> validation. The unobtrusive attributes have the format <code>data-val-rule=&quot;Error Message&quot;</code>, where rule is the name of the validation rule (such as <code>data-val-required</code>, <code>data-val-email</code>, <code>data-val-maxlength</code>, etc.) If an error message is provided in the attribute, it is displayed as the value for the <code>data-val-rule</code> attribute. There are also attributes of the form <code>data-val-ruleName-argumentName=&quot;argumentValue&quot;</code> that provide additional details about the rule, for example, <code>data-val-maxlength-max=&quot;1024&quot;</code> .</p>
<h3 id="html-helper-alternatives-to-input-tag-helper">HTML Helper alternatives to Input Tag Helper</h3>
<p><code>Html.TextBox</code>, <code>Html.TextBoxFor</code>, <code>Html.Editor</code> and <code>Html.EditorFor</code> have overlapping features with the Input Tag Helper. The Input Tag Helper will automatically set the <code>type</code> attribute; <code>Html.TextBox</code> and <code>Html.TextBoxFor</code> will not. <code>Html.Editor</code> and <code>Html.EditorFor</code> handle collections, complex objects and templates; the Input Tag Helper does not. The Input Tag Helper, <code>Html.EditorFor</code>  and  <code>Html.TextBoxFor</code> are strongly typed (they use lambda expressions); <code>Html.TextBox</code> and <code>Html.Editor</code> are not (they use expression names).</p>
<h3 id="htmlattributes">HtmlAttributes</h3>
<p><code>@Html.Editor()</code> and <code>@Html.EditorFor()</code> use a special <code>ViewDataDictionary</code> entry named <code>htmlAttributes</code> when executing their default templates. This behavior is optionally augmented using <code>additionalViewData</code> parameters. The key &quot;htmlAttributes&quot; is case-insensitive. The key &quot;htmlAttributes&quot; is handled similarly to the <code>htmlAttributes</code> object passed to input helpers like <code>@Html.TextBox()</code>.</p>
<pre><code class="lang-HTML">@Html.EditorFor(model =&gt; model.YourProperty, 
  new { htmlAttributes = new { @class=&quot;myCssClass&quot;, style=&quot;Width:100px&quot; } })
</code></pre><h3 id="expression-names">Expression names</h3>
<p>The <code>asp-for</code> attribute value is a <code>ModelExpression</code> and the right hand side of a lambda expression. Therefore, <code>asp-for=&quot;Property1&quot;</code> becomes <code>m =&gt; m.Property1</code> in the generated code which is why you don&#39;t need to prefix with <code>Model</code>. You can use the &quot;@&quot; character to start an inline expression and move before the <code>m.</code>:</p>
<pre><code class="lang-HTML">@{
       var joe = &quot;Joe&quot;;
   }
   &lt;input asp-for=&quot;@joe&quot; /&gt;
</code></pre><p>Generates the following:</p>
<pre><code class="lang-HTML">&lt;input type=&quot;text&quot; id=&quot;joe&quot; name=&quot;joe&quot; value=&quot;Joe&quot; /&gt;
</code></pre><p>With collection properties, <code>asp-for=&quot;CollectionProperty[23].Member&quot;</code> generates the same name as <code>asp-for=&quot;CollectionProperty[i].Member&quot;</code> when <code>i</code> has the value <code>23</code>.</p>
<h3 id="navigating-child-properties">Navigating child properties</h3>
<p>You can also navigate to child properties using the property path of the view model. Consider a more complex model class that contains a child <code>Address</code> property.</p>
<pre><code class="lang-csharp" name="Main" highlight-lines="1,2,3,4">public class AddressViewModel
{
    public string AddressLine1 { get; set; }
}
</code></pre><pre><code class="lang-csharp" name="Main" highlight-lines="8">public class RegisterAddressViewModel
{
    public string Email { get; set; }

    [DataType(DataType.Password)]
    public string Password { get; set; }

    public AddressViewModel Address { get; set; }
}
</code></pre><p>In the view, we bind to <code>Address.AddressLine1</code>:</p>
<pre><code class="lang-HTML" name="Main" highlight-lines="6">@model RegisterAddressViewModel

&lt;form asp-controller=&quot;Demo&quot; asp-action=&quot;RegisterAddress&quot; method=&quot;post&quot;&gt;
    Email:  &lt;input asp-for=&quot;Email&quot; /&gt; &lt;br /&gt;
    Password: &lt;input asp-for=&quot;Password&quot; /&gt;&lt;br /&gt;
    Address: &lt;input asp-for=&quot;Address.AddressLine1&quot; /&gt;&lt;br /&gt;
    &lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
&lt;/form&gt;
</code></pre><p>The following HTML is generated for <code>Address.AddressLine1</code>:</p>
<pre><code class="lang-HTML">&lt;input type=&quot;text&quot; id=&quot;Address_AddressLine1&quot; name=&quot;Address.AddressLine1&quot; value=&quot;&quot; /&gt;
</code></pre><h3 id="expression-names-and-collections">Expression names and Collections</h3>
<p>Sample, a model containing an array of <code>Colors</code>:</p>
<pre><code class="lang-csharp" name="Main" highlight-lines="3">public class Person
{
    public List&lt;string&gt; Colors { get; set; }

    public int Age { get; set; }
}
</code></pre><p>The action method:</p>
<pre><code class="lang-csharp">public IActionResult Edit(int id, int colorIndex)
   {
       ViewData[&quot;Index&quot;] = colorIndex;
       return View(GetPerson(id));
   }
</code></pre><p>The following Razor shows how you access a specific <code>Color</code> element:</p>
<pre><code class="lang-HTML" name="Main">@model Person
@{
    var index = (int)ViewData[&quot;index&quot;];
}

&lt;form asp-controller=&quot;ToDo&quot; asp-action=&quot;Edit&quot; method=&quot;post&quot;&gt;
    @Html.EditorFor(m =&gt; m.Colors[index])
    &lt;label asp-for=&quot;Age&quot;&gt;&lt;/label&gt;
    &lt;input asp-for=&quot;Age&quot; /&gt;&lt;br /&gt;
    &lt;button type=&quot;submit&quot;&gt;Post&lt;/button&gt;
&lt;/form&gt;
</code></pre><p>The <em>Views/Shared/EditorTemplates/String.cshtml</em> template:</p>
<pre><code class="lang-HTML" name="Main">@model string

&lt;label asp-for=&quot;@Model&quot;&gt;&lt;/label&gt;
&lt;input asp-for=&quot;@Model&quot; /&gt; &lt;br /&gt;
</code></pre><p>Sample using <code>List&lt;T&gt;</code>:</p>
<pre><code class="lang-csharp" name="Main">public class ToDoItem
{
    public string Name { get; set; }

    public bool IsDone { get; set; }
}
</code></pre><p>The following Razor shows how to iterate over a collection:</p>
<pre><code class="lang-HTML" name="Main">@model List&lt;ToDoItem&gt;

&lt;form asp-controller=&quot;ToDo&quot; asp-action=&quot;Edit&quot; method=&quot;post&quot;&gt;
    &lt;table&gt;
        &lt;tr&gt; &lt;th&gt;Name&lt;/th&gt; &lt;th&gt;Is Done&lt;/th&gt; &lt;/tr&gt;

        @for (int i = 0; i &lt; Model.Count; i++)
        {
            &lt;tr&gt;
                @Html.EditorFor(model =&gt; model[i])
            &lt;/tr&gt;
        }

    &lt;/table&gt;
    &lt;button type=&quot;submit&quot;&gt;Save&lt;/button&gt;
&lt;/form&gt;
</code></pre><p>The <em>Views/Shared/EditorTemplates/ToDoItem.cshtml</em> template:</p>
<pre><code class="lang-HTML" name="Main">@model ToDoItem

&lt;td&gt;
    &lt;label asp-for=&quot;@Model.Name&quot;&gt;&lt;/label&gt;
    @Html.DisplayFor(model =&gt; model.Name)
&lt;/td&gt;
&lt;td&gt;
    &lt;input asp-for=&quot;@Model.IsDone&quot; /&gt;
&lt;/td&gt;

@*
    This template replaces the following Razor which evaluates the indexer three times.
    &lt;td&gt;
         &lt;label asp-for=&quot;@Model[i].Name&quot;&gt;&lt;/label&gt;
         @Html.DisplayFor(model =&gt; model[i].Name)
     &lt;/td&gt;
     &lt;td&gt;
         &lt;input asp-for=&quot;@Model[i].IsDone&quot; /&gt;
     &lt;/td&gt;
*@
</code></pre><div class="NOTE"><h5>Note</h5><p>Always use <code>for</code> (and <em>not</em> <code>foreach</code>) to iterate over a list. Evaluating an indexer in a LINQ expression can be expensive and should be minimized.</p>
</div>
<p>&nbsp;</p>
<div class="NOTE"><h5>Note</h5><p>The commented sample code above shows how you would replace the lambda expression with the <code>@</code> operator to access each <code>ToDoItem</code> in the list.</p>
</div>
<h2 id="the-textarea-tag-helper">The Textarea Tag Helper</h2>
<p>The <code>Textarea Tag Helper</code> tag helper is  similar to the Input Tag Helper.</p>
<ul>
<li><p>Generates the <code>id</code> and <code>name</code> attributes, and the data validation attributes from the model for a <a href="https://www.w3.org/wiki/HTML/Elements/textarea">&lt;textarea&gt;</a> element.</p>
</li>
<li><p>Provides strong typing.</p>
</li>
<li><p>HTML Helper alternative: <code>Html.TextAreaFor</code></p>
</li>
</ul>
<p>Sample:</p>
<pre><code class="lang-csharp" name="Main">using System.ComponentModel.DataAnnotations;

namespace FormsTagHelper.ViewModels
{
    public class DescriptionViewModel
    {
        [MinLength(5)]
        [MaxLength(1024)]
        public string Description { get; set; }
    }
}
</code></pre><pre><code class="lang-HTML" name="Main" highlight-lines="4">@model DescriptionViewModel

&lt;form asp-controller=&quot;Demo&quot; asp-action=&quot;RegisterTextArea&quot; method=&quot;post&quot;&gt;
    &lt;textarea asp-for=&quot;Description&quot;&gt;&lt;/textarea&gt;
    &lt;button type=&quot;submit&quot;&gt;Test&lt;/button&gt;
&lt;/form&gt;
</code></pre><p>The following HTML is generated:</p>
<!-- literal_block {"ids": [], "linenos": false, "xml:space": "preserve", "language": "HTML", "highlight_args": {"hl_lines": [2, 3, 4, 5, 6, 7, 8]}} -->
<pre><code class="lang-HTML">&lt;form method=&quot;post&quot; action=&quot;/Demo/RegisterTextArea&quot;&gt;
  &lt;textarea data-val=&quot;true&quot;
   data-val-maxlength=&quot;The field Description must be a string or array type with a maximum length of &amp;#x27;1024&amp;#x27;.&quot;
   data-val-maxlength-max=&quot;1024&quot;
   data-val-minlength=&quot;The field Description must be a string or array type with a minimum length of &amp;#x27;5&amp;#x27;.&quot;
   data-val-minlength-min=&quot;5&quot;
   id=&quot;Description&quot; name=&quot;Description&quot;&gt;
  &lt;/textarea&gt;
  &lt;button type=&quot;submit&quot;&gt;Test&lt;/button&gt;
  &lt;input name=&quot;__RequestVerificationToken&quot; type=&quot;hidden&quot; value=&quot;&lt;removed for brevity&gt;&quot; /&gt;
&lt;/form&gt;
</code></pre><h2 id="the-label-tag-helper">The Label Tag Helper</h2>
<ul>
<li><p>Generates the label caption and <code>for</code> attribute on a <a href="https://www.w3.org/wiki/HTML/Elements/label"><label></label></a> element for an expression name</p>
</li>
<li><p>HTML Helper alternative: <code>Html.LabelFor</code>.</p>
</li>
</ul>
<p>The <code>Label Tag Helper</code>  provides the following benefits over a pure HTML label element:</p>
<ul>
<li><p>You automatically get the descriptive label value from the <code>Display</code> attribute. The intended display name might change over time, and the combination of <code>Display</code> attribute and Label Tag Helper will apply the <code>Display</code> everywhere it&#39;s used.</p>
</li>
<li><p>Less markup in source code</p>
</li>
<li><p>Strong typing with the model property.</p>
</li>
</ul>
<p>Sample:</p>
<pre><code class="lang-csharp" name="Main">using System.ComponentModel.DataAnnotations;

namespace FormsTagHelper.ViewModels
{
    public class SimpleViewModel
    {
        [Required]
        [EmailAddress]
        [Display(Name = &quot;Email Address&quot;)]
        public string Email { get; set; }
    }
}

</code></pre><pre><code class="lang-HTML" name="Main" highlight-lines="4">@model SimpleViewModel

&lt;form asp-controller=&quot;Demo&quot; asp-action=&quot;RegisterLabel&quot; method=&quot;post&quot;&gt;
    &lt;label asp-for=&quot;Email&quot;&gt;&lt;/label&gt;
    &lt;input asp-for=&quot;Email&quot; /&gt; &lt;br /&gt;
&lt;/form&gt;
</code></pre><p>The following HTML is generated for the <code>&lt;label&gt;</code> element:</p>
<pre><code class="lang-HTML">&lt;label for=&quot;Email&quot;&gt;Email Address&lt;/label&gt;
</code></pre><p>The Label Tag Helper generated the <code>for</code> attribute value of &quot;Email&quot;, which is the ID associated with the <code>&lt;input&gt;</code> element. The Tag Helpers generate consistent <code>id</code> and <code>for</code> elements so they can be correctly associated. The caption in this sample comes from the <code>Display</code> attribute. If the model didn&#39;t contain a <code>Display</code> attribute, the caption would be the property name of the expression.</p>
<h2 id="the-validation-tag-helpers">The Validation Tag Helpers</h2>
<p>There are two Validation Tag Helpers. The <code>Validation Message Tag Helper</code> (which displays a validation message for a single property on your model), and the <code>Validation Summary Tag Helper</code> (which displays a summary of validation errors). The <code>Input Tag Helper</code> adds HTML5 client side validation attributes to input elements based on data annotation attributes on your model classes. Validation is also performed on the server. The Validation Tag Helper displays these error messages when a validation error occurs.</p>
<h3 id="the-validation-message-tag-helper">The Validation Message Tag Helper</h3>
<ul>
<li><p>Adds the <a href="https://developer.mozilla.org/docs/Web/Guide/HTML/HTML5">HTML5</a>  <code>data-valmsg-for=&quot;property&quot;</code> attribute to the <a href="https://developer.mozilla.org/docs/Web/HTML/Element/span">span</a> element, which attaches the validation error messages on the input field of the specified model property. When a client side validation error occurs, <a href="https://jquery.com/">jQuery</a> displays the error message in the <code>&lt;span&gt;</code> element.</p>
</li>
<li><p>Validation also takes place on the server. Clients may have JavaScript disabled and some validation can only be done on the server side.</p>
</li>
<li><p>HTML Helper alternative: <code>Html.ValidationMessageFor</code></p>
</li>
</ul>
<p>The <code>Validation Message Tag Helper</code>  is used with the <code>asp-validation-for</code> attribute on a HTML <a href="https://developer.mozilla.org/docs/Web/HTML/Element/span">span</a> element.</p>
<pre><code class="lang-HTML">&lt;span asp-validation-for=&quot;Email&quot;&gt;&lt;/span&gt;
</code></pre><p>The Validation Message Tag Helper will generate the following HTML:</p>
<pre><code class="lang-HTML">&lt;span class=&quot;field-validation-valid&quot;
  data-valmsg-for=&quot;Email&quot;
  data-valmsg-replace=&quot;true&quot;&gt;&lt;/span&gt;
</code></pre><p>You generally use the <code>Validation Message Tag Helper</code>  after an <code>Input</code> Tag Helper for the same property. Doing so displays any validation error messages near the input that caused the error.</p>
<div class="NOTE"><h5>Note</h5><p>You must have a view with the correct JavaScript and <a href="https://jquery.com/">jQuery</a> script references in place for client side validation. See <a href="../models/validation.html">Model Validation</a> for more information.</p>
</div>
<p>When a server side validation error occurs (for example when you have custom server side validation or client-side validation is disabled), MVC places that error message as the body of the <code>&lt;span&gt;</code> element.</p>
<pre><code class="lang-HTML">&lt;span class=&quot;field-validation-error&quot; data-valmsg-for=&quot;Email&quot;
            data-valmsg-replace=&quot;true&quot;&gt;
   The Email Address field is required.
&lt;/span&gt;
</code></pre><h3 id="the-validation-summary-tag-helper">The Validation Summary Tag Helper</h3>
<ul>
<li><p>Targets <code>&lt;div&gt;</code> elements with the <code>asp-validation-summary</code> attribute</p>
</li>
<li><p>HTML Helper alternative: <code>@Html.ValidationSummary</code></p>
</li>
</ul>
<p>The <code>Validation Summary Tag Helper</code>  is used to display a summary of validation messages. The <code>asp-validation-summary</code> attribute value can be any of the following:</p>
<table>
<thead>
<tr>
<th>asp-validation-summary</th>
<th>Validation messages displayed</th>
</tr>
</thead>
<tbody>
<tr>
<td>ValidationSummary.All</td>
<td>Property and model level</td>
</tr>
<tr>
<td>ValidationSummary.ModelOnly</td>
<td>Model</td>
</tr>
<tr>
<td>ValidationSummary.None</td>
<td>None</td>
</tr>
</tbody>
</table>
<h3 id="sample">Sample</h3>
<p>In the following example, the data model is decorated with <code>DataAnnotation</code> attributes, which generates validation error messages on the <code>&lt;input&gt;</code> element.  When a validation error occurs, the Validation Tag Helper displays the error message:</p>
<pre><code class="lang-csharp" name="Main">using System.ComponentModel.DataAnnotations;

namespace FormsTagHelper.ViewModels
{
    public class RegisterViewModel
    {
        [Required]
        [EmailAddress]
        [Display(Name = &quot;Email Address&quot;)]
        public string Email { get; set; }

        [Required]
        [DataType(DataType.Password)]
        public string Password { get; set; }
    }
}
</code></pre><pre><code class="lang-HTML" name="Main" highlight-lines="4,6,8">@model RegisterViewModel

&lt;form asp-controller=&quot;Demo&quot; asp-action=&quot;RegisterValidation&quot; method=&quot;post&quot;&gt;
    &lt;div asp-validation-summary=&quot;ModelOnly&quot;&gt;&lt;/div&gt;
    Email:  &lt;input asp-for=&quot;Email&quot; /&gt; &lt;br /&gt;
    &lt;span asp-validation-for=&quot;Email&quot;&gt;&lt;/span&gt;&lt;br /&gt;
    Password: &lt;input asp-for=&quot;Password&quot; /&gt;&lt;br /&gt;
    &lt;span asp-validation-for=&quot;Password&quot;&gt;&lt;/span&gt;&lt;br /&gt;
    &lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
&lt;/form&gt;
</code></pre><p>The generated HTML (when the model is valid):</p>
<!-- literal_block {"ids": [], "linenos": false, "xml:space": "preserve", "language": "HTML", "highlight_args": {"hl_lines": [2, 3, 8, 9, 12, 13]}} -->
<pre><code class="lang-HTML">&lt;form action=&quot;/DemoReg/Register&quot; method=&quot;post&quot;&gt;
  &lt;div class=&quot;validation-summary-valid&quot; data-valmsg-summary=&quot;true&quot;&gt;
  &lt;ul&gt;&lt;li style=&quot;display:none&quot;&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;
  Email:  &lt;input name=&quot;Email&quot; id=&quot;Email&quot; type=&quot;email&quot; value=&quot;&quot;
   data-val-required=&quot;The Email field is required.&quot;
   data-val-email=&quot;The Email field is not a valid e-mail address.&quot;
   data-val=&quot;true&quot;&gt; &lt;br&gt;
  &lt;span class=&quot;field-validation-valid&quot; data-valmsg-replace=&quot;true&quot;
   data-valmsg-for=&quot;Email&quot;&gt;&lt;/span&gt;&lt;br&gt;
  Password: &lt;input name=&quot;Password&quot; id=&quot;Password&quot; type=&quot;password&quot;
   data-val-required=&quot;The Password field is required.&quot; data-val=&quot;true&quot;&gt;&lt;br&gt;
  &lt;span class=&quot;field-validation-valid&quot; data-valmsg-replace=&quot;true&quot;
   data-valmsg-for=&quot;Password&quot;&gt;&lt;/span&gt;&lt;br&gt;
  &lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
  &lt;input name=&quot;__RequestVerificationToken&quot; type=&quot;hidden&quot; value=&quot;&lt;removed for brevity&gt;&quot; /&gt;
&lt;/form&gt;
</code></pre><h2 id="the-select-tag-helper">The Select Tag Helper</h2>
<ul>
<li><p>Generates <a href="https://www.w3.org/wiki/HTML/Elements/select">select</a> and associated <a href="https://www.w3.org/wiki/HTML/Elements/option">option</a> elements for properties of your model.</p>
</li>
<li><p>Has an HTML Helper alternative <code>Html.DropDownListFor</code> and <code>Html.ListBoxFor</code></p>
</li>
</ul>
<p>The <code>Select Tag Helper</code> <code>asp-for</code> specifies the model property  name for the <a href="https://www.w3.org/wiki/HTML/Elements/select">select</a> element  and <code>asp-items</code> specifies the <a href="https://www.w3.org/wiki/HTML/Elements/option">option</a> elements.  For example:</p>
<pre><code class="lang-HTML" name="Main">&lt;select asp-for=&quot;Country&quot; asp-items=&quot;Model.Countries&quot;&gt;&lt;/select&gt; 
</code></pre><p>Sample:</p>
<pre><code class="lang-csharp" name="Main">using Microsoft.AspNetCore.Mvc.Rendering;
using System.Collections.Generic;

namespace FormsTagHelper.ViewModels
{
    public class CountryViewModel
    {
        public string Country { get; set; }

        public List&lt;SelectListItem&gt; Countries { get; } = new List&lt;SelectListItem&gt;
        {
            new SelectListItem { Value = &quot;MX&quot;, Text = &quot;Mexico&quot; },
            new SelectListItem { Value = &quot;CA&quot;, Text = &quot;Canada&quot; },
            new SelectListItem { Value = &quot;US&quot;, Text = &quot;USA&quot;  },
        };
    }
}
</code></pre><p>The <code>Index</code> method initializes the <code>CountryViewModel</code>, sets the selected country and passes it to the <code>Index</code> view.</p>
<pre><code class="lang-csharp" name="Main">public IActionResult IndexOption(int id)
{
    var model = new CountryViewModel();
    model.Country = &quot;CA&quot;;
    return View(model);
}
</code></pre><p>The HTTP POST <code>Index</code> method displays the selection:</p>
<pre><code class="lang-csharp" name="Main">[HttpPost]
[ValidateAntiForgeryToken]
public IActionResult Index(CountryViewModel model)
{
    if (ModelState.IsValid)
    {
        var msg = model.Country +  &quot; selected&quot;;
        return RedirectToAction(&quot;IndexSuccess&quot;, new { message = msg});
    }

    // If we got this far, something failed; redisplay form.
    return View(model);
}
</code></pre><p>The <code>Index</code> view:</p>
<pre><code class="lang-HTML" name="Main" highlight-lines="4">@model CountryViewModel

&lt;form asp-controller=&quot;Home&quot; asp-action=&quot;Index&quot; method=&quot;post&quot;&gt;
    &lt;select asp-for=&quot;Country&quot; asp-items=&quot;Model.Countries&quot;&gt;&lt;/select&gt; 
    &lt;br /&gt;&lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
&lt;/form&gt;
</code></pre><p>Which generates the following HTML (with &quot;CA&quot; selected):</p>
<!-- literal_block {"ids": [], "linenos": false, "xml:space": "preserve", "language": "HTML", "highlight_args": {"hl_lines": [2, 3, 4, 5, 6]}} -->
<pre><code class="lang-HTML">&lt;form method=&quot;post&quot; action=&quot;/&quot;&gt;
     &lt;select id=&quot;Country&quot; name=&quot;Country&quot;&gt;
       &lt;option value=&quot;MX&quot;&gt;Mexico&lt;/option&gt;
       &lt;option selected=&quot;selected&quot; value=&quot;CA&quot;&gt;Canada&lt;/option&gt;
       &lt;option value=&quot;US&quot;&gt;USA&lt;/option&gt;
     &lt;/select&gt;
       &lt;br /&gt;&lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
     &lt;input name=&quot;__RequestVerificationToken&quot; type=&quot;hidden&quot; value=&quot;&lt;removed for brevity&gt;&quot; /&gt;
   &lt;/form&gt;
</code></pre><div class="NOTE"><h5>Note</h5><p>We do not recommend using <code>ViewBag</code> or <code>ViewData</code> with the Select Tag Helper. A view model is more robust at providing MVC metadata and generally less problematic.</p>
</div>
<p>The <code>asp-for</code> attribute value is a special case and doesn&#39;t require a <code>Model</code> prefix, the other Tag Helper attributes do (such as <code>asp-items</code>)</p>
<pre><code class="lang-HTML" name="Main">&lt;select asp-for=&quot;Country&quot; asp-items=&quot;Model.Countries&quot;&gt;&lt;/select&gt; 
</code></pre><h3 id="enum-binding">Enum binding</h3>
<p>It&#39;s often convenient to use <code>&lt;select&gt;</code> with an <code>enum</code> property and generate the <code>SelectListItem</code> elements from the <code>enum</code> values.</p>
<p>Sample:</p>
<pre><code class="lang-csharp" name="Main">    public class CountryEnumViewModel
    {
        public CountryEnum EnumCountry { get; set; }
    }
}
</code></pre><pre><code class="lang-csharp" name="Main">using System.ComponentModel.DataAnnotations;

namespace FormsTagHelper.ViewModels
{
    public enum CountryEnum
    {
        [Display(Name = &quot;United Mexican States&quot;)]
        Mexico,
        [Display(Name = &quot;United States of America&quot;)]
        USA,
        Canada,
        France,
        Germany,
        Spain
    }
}
</code></pre><p>The <code>GetEnumSelectList</code> method generates a <code>SelectList</code> object for an enum.</p>
<pre><code class="lang-HTML" name="Main" highlight-lines="5">@model CountryEnumViewModel

&lt;form asp-controller=&quot;Home&quot; asp-action=&quot;IndexEnum&quot; method=&quot;post&quot;&gt;
    &lt;select asp-for=&quot;EnumCountry&quot; 
            asp-items=&quot;Html.GetEnumSelectList&lt;CountryEnum&gt;()&quot;&gt; &gt;
    &lt;/select&gt; 
    &lt;br /&gt;&lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
&lt;/form&gt;
</code></pre><p>You can decorate your enumerator list with the <code>Display</code> attribute to get a richer UI:</p>
<pre><code class="lang-csharp" name="Main" highlight-lines="5,7">using System.ComponentModel.DataAnnotations;

namespace FormsTagHelper.ViewModels
{
    public enum CountryEnum
    {
        [Display(Name = &quot;United Mexican States&quot;)]
        Mexico,
        [Display(Name = &quot;United States of America&quot;)]
        USA,
        Canada,
        France,
        Germany,
        Spain
    }
}
</code></pre><p>The following HTML is generated:</p>
<!-- literal_block {"ids": [], "linenos": false, "xml:space": "preserve", "language": "HTML", "highlight_args": {"hl_lines": [4, 5]}} -->
<pre><code class="lang-HTML">  &lt;form method=&quot;post&quot; action=&quot;/Home/IndexEnum&quot;&gt;
         &lt;select data-val=&quot;true&quot; data-val-required=&quot;The EnumCountry field is required.&quot;
                 id=&quot;EnumCountry&quot; name=&quot;EnumCountry&quot;&gt;
             &lt;option value=&quot;0&quot;&gt;United Mexican States&lt;/option&gt;
             &lt;option value=&quot;1&quot;&gt;United States of America&lt;/option&gt;
             &lt;option value=&quot;2&quot;&gt;Canada&lt;/option&gt;
             &lt;option value=&quot;3&quot;&gt;France&lt;/option&gt;
             &lt;option value=&quot;4&quot;&gt;Germany&lt;/option&gt;
             &lt;option selected=&quot;selected&quot; value=&quot;5&quot;&gt;Spain&lt;/option&gt;
         &lt;/select&gt;
         &lt;br /&gt;&lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
         &lt;input name=&quot;__RequestVerificationToken&quot; type=&quot;hidden&quot; value=&quot;&lt;removed for brevity&gt;&quot; /&gt;
    &lt;/form&gt;
</code></pre><h3 id="option-group">Option Group</h3>
<p>The HTML  <a href="https://www.w3.org/wiki/HTML/Elements/optgroup">&lt;optgroup&gt;</a> element is generated when the view model contains one or more <code>SelectListGroup</code> objects.</p>
<p>The <code>CountryViewModelGroup</code> groups the <code>SelectListItem</code> elements into the &quot;North America&quot; and &quot;Europe&quot; groups:</p>
<pre><code class="lang-csharp" name="Main" highlight-lines="5,6,14,20,26,32,38,44">public class CountryViewModelGroup
{
    public CountryViewModelGroup()
    {
        var NorthAmericaGroup = new SelectListGroup { Name = &quot;North America&quot; };
        var EuropeGroup = new SelectListGroup { Name = &quot;Europe&quot; };

        Countries = new List&lt;SelectListItem&gt;
        {
            new SelectListItem
            {
                Value = &quot;MEX&quot;,
                Text = &quot;Mexico&quot;,
                Group = NorthAmericaGroup
            },
            new SelectListItem
            {
                Value = &quot;CAN&quot;,
                Text = &quot;Canada&quot;,
                Group = NorthAmericaGroup
            },
            new SelectListItem
            {
                Value = &quot;US&quot;,
                Text = &quot;USA&quot;,
                Group = NorthAmericaGroup
            },
            new SelectListItem
            {
                Value = &quot;FR&quot;,
                Text = &quot;France&quot;,
                Group = EuropeGroup
            },
            new SelectListItem
            {
                Value = &quot;ES&quot;,
                Text = &quot;Spain&quot;,
                Group = EuropeGroup
            },
            new SelectListItem
            {
                Value = &quot;DE&quot;,
                Text = &quot;Germany&quot;,
                Group = EuropeGroup
            }
      };
    }

    public string Country { get; set; }

    public List&lt;SelectListItem&gt; Countries { get; }
</code></pre><p>The two groups are shown below:</p>
<p><img src="working-with-forms/_static/grp.png" alt="option group example"></p>
<p>The generated HTML:</p>
<!-- literal_block {"ids": [], "linenos": false, "xml:space": "preserve", "language": "HTML", "highlight_args": {"hl_lines": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12]}} -->
<pre><code class="lang-HTML"> &lt;form method=&quot;post&quot; action=&quot;/Home/IndexGroup&quot;&gt;
      &lt;select id=&quot;Country&quot; name=&quot;Country&quot;&gt;
          &lt;optgroup label=&quot;North America&quot;&gt;
              &lt;option value=&quot;MEX&quot;&gt;Mexico&lt;/option&gt;
              &lt;option value=&quot;CAN&quot;&gt;Canada&lt;/option&gt;
              &lt;option value=&quot;US&quot;&gt;USA&lt;/option&gt;
          &lt;/optgroup&gt;
          &lt;optgroup label=&quot;Europe&quot;&gt;
              &lt;option value=&quot;FR&quot;&gt;France&lt;/option&gt;
              &lt;option value=&quot;ES&quot;&gt;Spain&lt;/option&gt;
              &lt;option value=&quot;DE&quot;&gt;Germany&lt;/option&gt;
          &lt;/optgroup&gt;
      &lt;/select&gt;
      &lt;br /&gt;&lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
      &lt;input name=&quot;__RequestVerificationToken&quot; type=&quot;hidden&quot; value=&quot;&lt;removed for brevity&gt;&quot; /&gt;
 &lt;/form&gt;
</code></pre><h3 id="multiple-select">Multiple select</h3>
<p>The Select Tag Helper  will automatically generate the <a href="http://w3c.github.io/html-reference/select.html">multiple = &quot;multiple&quot;</a>  attribute if the property specified in the <code>asp-for</code> attribute is an <code>IEnumerable</code>. For example, given the following model:</p>
<pre><code class="lang-csharp" name="Main" highlight-lines="6">using Microsoft.AspNetCore.Mvc.Rendering;
using System.Collections.Generic;

namespace FormsTagHelper.ViewModels
{
    public class CountryViewModelIEnumerable
    {
        public IEnumerable&lt;string&gt; CountryCodes { get; set; }

        public List&lt;SelectListItem&gt; Countries { get; } = new List&lt;SelectListItem&gt;
        {
            new SelectListItem { Value = &quot;MX&quot;, Text = &quot;Mexico&quot; },
            new SelectListItem { Value = &quot;CA&quot;, Text = &quot;Canada&quot; },
            new SelectListItem { Value = &quot;US&quot;, Text = &quot;USA&quot;    },
            new SelectListItem { Value = &quot;FR&quot;, Text = &quot;France&quot; },
            new SelectListItem { Value = &quot;ES&quot;, Text = &quot;Spain&quot;  },
            new SelectListItem { Value = &quot;DE&quot;, Text = &quot;Germany&quot;}
         };
    }
}
</code></pre><p>With the following view:</p>
<pre><code class="lang-HTML" name="Main" highlight-lines="4">@model CountryViewModelIEnumerable

&lt;form asp-controller=&quot;Home&quot; asp-action=&quot;IndexMultiSelect&quot; method=&quot;post&quot;&gt;
    &lt;select asp-for=&quot;CountryCodes&quot; asp-items=&quot;Model.Countries&quot;&gt;&lt;/select&gt; 
    &lt;br /&gt;&lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
&lt;/form&gt;
</code></pre><p>Generates the following HTML:</p>
<!-- literal_block {"ids": [], "linenos": false, "xml:space": "preserve", "language": "HTML", "highlight_args": {"hl_lines": [3]}} -->
<pre><code class="lang-HTML">&lt;form method=&quot;post&quot; action=&quot;/Home/IndexMultiSelect&quot;&gt;
    &lt;select id=&quot;CountryCodes&quot;
    multiple=&quot;multiple&quot;
    name=&quot;CountryCodes&quot;&gt;&lt;option value=&quot;MX&quot;&gt;Mexico&lt;/option&gt;
&lt;option value=&quot;CA&quot;&gt;Canada&lt;/option&gt;
&lt;option value=&quot;US&quot;&gt;USA&lt;/option&gt;
&lt;option value=&quot;FR&quot;&gt;France&lt;/option&gt;
&lt;option value=&quot;ES&quot;&gt;Spain&lt;/option&gt;
&lt;option value=&quot;DE&quot;&gt;Germany&lt;/option&gt;
&lt;/select&gt;
    &lt;br /&gt;&lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
  &lt;input name=&quot;__RequestVerificationToken&quot; type=&quot;hidden&quot; value=&quot;&lt;removed for brevity&gt;&quot; /&gt;
&lt;/form&gt;
</code></pre><h3 id="no-selection">No selection</h3>
<p>If you find yourself using the &quot;not specified&quot; option in multiple pages, you can create a template to eliminate repeating the HTML:</p>
<pre><code class="lang-HTML" name="Main" highlight-lines="5">@model CountryViewModel

&lt;form asp-controller=&quot;Home&quot; asp-action=&quot;IndexEmpty&quot; method=&quot;post&quot;&gt;
    @Html.EditorForModel()
    &lt;br /&gt;&lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
&lt;/form&gt;
</code></pre><p>The <em>Views/Shared/EditorTemplates/CountryViewModel.cshtml</em> template:</p>
<pre><code class="lang-HTML" name="Main">@model CountryViewModel

&lt;select asp-for=&quot;Country&quot; asp-items=&quot;Model.Countries&quot;&gt;
    &lt;option value=&quot;&quot;&gt;--none--&lt;/option&gt;
&lt;/select&gt;

</code></pre><p>Adding HTML <a href="https://www.w3.org/wiki/HTML/Elements/option">&lt;option&gt;</a> elements is not limited to the <em>No selection</em> case. For example, the following view and action method will generate HTML similar to the code above:</p>
<pre><code class="lang-csharp" name="Main">public IActionResult IndexOption(int id)
{
    var model = new CountryViewModel();
    model.Country = &quot;CA&quot;;
    return View(model);
}
</code></pre><pre><code class="lang-HTML" name="Main">@model CountryViewModel

&lt;form asp-controller=&quot;Home&quot; asp-action=&quot;IndexEmpty&quot; method=&quot;post&quot;&gt;
    &lt;select asp-for=&quot;Country&quot;&gt;
        &lt;option value=&quot;&quot;&gt;&amp;lt;none&amp;gt;&lt;/option&gt;
        &lt;option value=&quot;MX&quot;&gt;Mexico&lt;/option&gt;
        &lt;option value=&quot;CA&quot;&gt;Canada&lt;/option&gt;
        &lt;option value=&quot;US&quot;&gt;USA&lt;/option&gt;
    &lt;/select&gt; 
    &lt;br /&gt;&lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
&lt;/form&gt;
</code></pre><p>The correct <code>&lt;option&gt;</code> element will be selected ( contain the <code>selected=&quot;selected&quot;</code> attribute) depending on the current <code>Country</code> value.</p>
<!-- literal_block {"ids": [], "linenos": false, "xml:space": "preserve", "language": "HTML", "highlight_args": {"hl_lines": [5]}} -->
<pre><code class="lang-HTML"> &lt;form method=&quot;post&quot; action=&quot;/Home/IndexEmpty&quot;&gt;
      &lt;select id=&quot;Country&quot; name=&quot;Country&quot;&gt;
          &lt;option value=&quot;&quot;&gt;&amp;lt;none&amp;gt;&lt;/option&gt;
          &lt;option value=&quot;MX&quot;&gt;Mexico&lt;/option&gt;
          &lt;option value=&quot;CA&quot; selected=&quot;selected&quot;&gt;Canada&lt;/option&gt;
          &lt;option value=&quot;US&quot;&gt;USA&lt;/option&gt;
      &lt;/select&gt;
      &lt;br /&gt;&lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
   &lt;input name=&quot;__RequestVerificationToken&quot; type=&quot;hidden&quot; value=&quot;&lt;removed for brevity&gt;&quot; /&gt;
 &lt;/form&gt;
</code></pre><h2 id="additional-resources">Additional Resources</h2>
<ul>
<li><p><a href="tag-helpers/intro.html">Tag Helpers</a></p>
</li>
<li><p><a href="https://www.w3.org/TR/html401/interact/forms.html">HTML Form element</a></p>
</li>
<li><p><a href="https://docs.microsoft.com/aspnet/mvc/overview/security/xsrfcsrf-prevention-in-aspnet-mvc-and-web-pages">Request Verification Token</a></p>
</li>
<li><p><a href="../models/model-binding.html">Model Binding</a></p>
</li>
<li><p><a href="../models/validation.html">Model Validation</a></p>
</li>
<li><p><a href="https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.mvc.dataannotations.iattributeadapter">data annotations</a></p>
</li>
<li><p><a href="https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/forms/sample">Code snippets for this document</a>.</p>
</li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/aspnet/Docs/blob/w/riande/RP-EF/aspnetcore/mvc/views/working-with-forms.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
