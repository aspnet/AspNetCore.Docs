<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Distributed Cache Tag Helper | Microsoft Docs </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Distributed Cache Tag Helper | Microsoft Docs ">
    <meta name="generator" content="docfx 2.24.0.0">
    
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="/foo">
    <meta property="docfx:tocrel" content="../../../../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="mvc/views/tag-helpers/builtin-th/distributed-cache-tag-helper">
<h1 id="distributed-cache-tag-helper">Distributed Cache Tag Helper</h1>

<p>By <a href="http://peterkellner.net">Peter Kellner</a> </p>
<p>The Distributed Cache Tag Helper provides the ability to dramatically improve the performance of your ASP.NET Core app by caching its content to a distributed cache source.</p>
<p>The Distributed Cache Tag Helper inherits from the same base class as the Cache Tag Helper.  All attributes associated with the Cache Tag Helper will also work on the Distributed Tag Helper.</p>
<p>The Distributed Cache Tag Helper follows the <strong>Explicit Dependencies Principle</strong> known as <strong>Constructor Injection</strong>.  Specifically, the <code>IDistributedCache</code> interface container is passed into the Distributed Cache Tag Helper&#39;s constructor.  If no specific concrete implementation of <code>IDistributedCache</code> has been created in <code>ConfigureServices</code>, usually found in startup.cs, then the Distributed Cache Tag Helper will use the same in-memory provider for storing cached data as the basic Cache Tag Helper.</p>
<h2 id="distributed-cache-tag-helper-attributes">Distributed Cache Tag Helper Attributes</h2>
<hr>
<h3 id="enabled-expires-on-expires-after-expires-sliding-vary-by-header-vary-by-query-vary-by-route-vary-by-cookie-vary-by-user-vary-by-priority">enabled expires-on expires-after expires-sliding vary-by-header vary-by-query vary-by-route vary-by-cookie vary-by-user vary-by priority</h3>
<p>See Cache Tag Helper for definitions. Distributed Cache Tag Helper inherits from the same class as Cache Tag Helper so all these attributes are common from Cache Tag Helper.</p>
<hr>
<h3 id="name-required">name (required)</h3>
<table>
<thead>
<tr>
<th>Attribute Type</th>
<th>Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>string</td>
<td>&quot;my-distributed-cache-unique-key-101&quot;</td>
</tr>
</tbody>
</table>
<p>The required <code>name</code> attribute is used as a key to that cache stored for each instance of a Distributed Cache Tag Helper.  Unlike the basic Cache Tag Helper that assigns a key to each Cache Tag Helper instance based on the Razor page name and location of the tag helper in the razor page, the Distributed Cache Tag Helper only bases it&#39;s key on the attribute <code>name</code></p>
<p>Usage Example:</p>
<pre><code class="lang-cshtml">&lt;distributed-cache name=&quot;my-distributed-cache-unique-key-101&quot;&gt;
    Time Inside Cache Tag Helper: @DateTime.Now
&lt;/distributed-cache&gt;
</code></pre><h2 id="distributed-cache-tag-helper-idistributedcache-implementations">Distributed Cache Tag Helper IDistributedCache Implementations</h2>
<p>There are two implementations of <code>IDistributedCache</code> built in to ASP.NET Core.  One is based on <strong>Sql Server</strong> and the other is based on <strong>Redis</strong>. Details of these implementations can be found at the resource referenced below named &quot;Working with a distributed cache&quot;. Both implementations involve setting an instance of <code>IDistributedCache</code> in ASP.NET Core&#39;s <strong>startup.cs</strong>.</p>
<p>There are no tag attributes specifically associated with using any specific implementation of <code>IDistributedCache</code>.</p>
<hr>
<h2 id="additional-resources">Additional resources</h2>
<ul>
<li><a class="xref" href="cache-tag-helper.html">Cache Tag Helper in ASP.NET Core MVC</a></li>
<li><a class="xref" href="../../../../fundamentals/dependency-injection.html#service-lifetimes-and-registration-options">Dependency Injection in ASP.NET Core</a></li>
<li><a class="xref" href="../../../../performance/caching/distributed.html">Working with a Distributed Cache</a></li>
<li><a class="xref" href="../../../../performance/caching/memory.html">In-memory caching in ASP.NET Core</a></li>
<li><a class="xref" href="../../../../security/authentication/identity.html">Introduction to Identity on ASP.NET Core</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/aspnet/Docs/blob/w/riande/RP-EF/aspnetcore/mvc/views/tag-helpers/built-in/distributed-cache-tag-helper.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © 2015-2017 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
