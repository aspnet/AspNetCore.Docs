<Project Sdk="Microsoft.NET.Sdk.Web">

  <PropertyGroup>
    <TargetFramework>netcoreapp2.1</TargetFramework>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.AspNetCore.App" Version="2.1.3" />
    <PackageReference Include="HostingStartupPackage" Version="1.0.0" />
  </ItemGroup>

  <!--
    The following PropertyGroup sets the package restore sources for the app.

    The HostingStartupPackage bin/Debug folder is added.

    This permits the app to restore the hosting startup package from its 
    project's published output. There is no need to publish the package to 
    nuget.org using this approach.

    When a hosting startup NuGet package is delivered via nuget.org, 
    the RestoreSources property is removed and a normal package reference
    is added to the ItemGroup earlier in this file with the package's
    published version.
  -->
  <PropertyGroup>
    <RestoreSources>$(RestoreSources);https://api.nuget.org/v3/index.json;../HostingStartupPackage/bin/Debug</RestoreSources>
  </PropertyGroup>

  <!--
    The following Reference item permits the app to load the hosting startup
    library's assembly (HostingStartupLibrary.dll) from the library's bin 
    folder.

    A project reference isn't used to consume the hosting startup library
    because the hosting startup is deployed as a compiled assembly (a DLL 
    file).
  -->
  <ItemGroup>
    <Reference Include=".\bin\Debug\netcoreapp2.1\HostingStartupLibrary.dll">
      <HintPath>.\bin\Debug\netcoreapp2.1\HostingStartupLibrary.dll</HintPath>
      <SpecificVersion>False</SpecificVersion> 
    </Reference>
  </ItemGroup>

</Project>
